<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>你認識自己的投資心理嗎?</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h2 {
            text-align: center;
        }
        .welcome-text, .role-text {
            text-align: center;
            margin-bottom: 30px;
        }
        .question {
            margin-bottom: 20px;
        }
        .question h3 {
            margin-bottom: 10px;
        }
        .question div {
            margin-bottom: 5px;
        }
        .submit-button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            text-align: center;
        }
        .submit-button:hover {
            background-color: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            display: none;
        }
        canvas {
            max-width: 100%;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>你認識自己的投資心理嗎</h2>

        <div class="welcome-text">            
            <p>在開始之前，請放鬆心情，這是一個幫助您了解自己投資心理的小測驗。</p>
        </div>

        <div class="role-text">
            <p>假設您是一位年輕的專業人士，剛剛開始您的職業生涯，並且有一些額外的資金可以進行投資。讓我們看看在不同情境下，您會如何做出決策。</p>
        </div>

        <form id="riskAssessmentForm">
            <div class="question">
                <h3>年齡選項</h3>
                <div><input type="radio" name="age" value="12"> 18-30 歲</div>
                <div><input type="radio" name="age" value="9"> 31-40 歲</div>
                <div><input type="radio" name="age" value="6"> 41-50 歲</div>
                <div><input type="radio" name="age" value="3"> 51 歲以上</div>
            </div>

            <div class="question">
                <h3>1. 你剛剛得到了一筆意外之財，你會怎麼做？</h3>
                <div><input type="radio" name="unexpectedWealth" value="1"> 存入銀行，獲取穩定的利息</div>
                <div><input type="radio" name="unexpectedWealth" value="2"> 部分存入銀行，部分用於低風險的投資</div>
                <div><input type="radio" name="unexpectedWealth" value="3"> 大部分用於中等風險的投資，期望獲取較高回報</div>
                <div><input type="radio" name="unexpectedWealth" value="4"> 全部用於高風險的投資，期望獲取最大回報</div>
            </div>

            <div class="question">
                <h3>2. 你在旅行時發現了一個獨特的商機，你會怎麼做？</h3>
                <div><input type="radio" name="businessOpportunity" value="1"> 不會考慮，因為風險太大</div>
                <div><input type="radio" name="businessOpportunity" value="2"> 會觀察一段時間，再決定是否投入</div>
                <div><input type="radio" name="businessOpportunity" value="3"> 會嘗試少量投資，看看效果</div>
                <div><input type="radio" name="businessOpportunity" value="4"> 立即大額投資，希望趁機獲利</div>
            </div>

            <div class="question">
                <h3>3. 你發現你的朋友在一個新興市場賺了很多錢，你會怎麼做？</h3>
                <div><input type="radio" name="friendsSuccess" value="1"> 祝賀朋友，但不會跟風投資</div>
                <div><input type="radio" name="friendsSuccess" value="2"> 會進行研究後，謹慎投資</div>
                <div><input type="radio" name="friendsSuccess" value="3"> 會嘗試少量投資，看看效果</div>
                <div><input type="radio" name="friendsSuccess" value="4"> 立即大額投資，希望也能賺錢</div>
            </div>

            <div class="question">
                <h3>4. 你聽說某隻股票即將大幅上漲，你會怎麼做？</h3>
                <div><input type="radio" name="stockRise" value="1"> 不會考慮購買，因為風險太大</div>
                <div><input type="radio" name="stockRise" value="2"> 會觀察一段時間，再決定是否購買</div>
                <div><input type="radio" name="stockRise" value="3"> 會購買少量股票，嘗試一下</div>
                <div><input type="radio" name="stockRise" value="4"> 立即購買，希望趁機獲利</div>
            </div>

            <div class="question">
                <h3>5. 當你發現自己投資的某隻股票價格大幅下跌，你會怎麼做？</h3>
                <div><input type="radio" name="stockFall" value="1"> 立即賣出，避免進一步的損失</div>
                <div><input type="radio" name="stockFall" value="2"> 感到焦慮，但會觀察一段時間再做決定</div>
                <div><input type="radio" name="stockFall" value="3"> 保持冷静，根據市場情況進行調整</div>
                <div><input type="radio" name="stockFall" value="4"> 完全不擔心，相信長期投資能夠回本</div>
            </div>

            <div class="question">
                <h3>6. 你如何面對生活中的壓力？</h3>
                <div><input type="radio" name="stress" value="1"> 通過運動或冥想來放鬆自己</div>
                <div><input type="radio" name="stress" value="2"> 與朋友或家人聊天，尋求支持</div>
                <div><input type="radio" name="stress" value="3"> 尋找新的愛好或活動來轉移注意力</div>
                <div><input type="radio" name="stress" value="4"> 面對壓力，嘗試解決問題</div>
            </div>

            <div class="question">
                <h3>7. 當你計劃一次旅行時，你會怎麼做？</h3>
                <div><input type="radio" name="travel" value="1"> 提前詳細計劃好每個細節</div>
                <div><input type="radio" name="travel" value="2"> 做一些基本準備，然後隨遇而安</div>
                <div><input type="radio" name="travel" value="3"> 聽從朋友的建議，簡單安排</div>
                <div><input type="radio" name="travel" value="4"> 說走就走，享受即興旅行</div>
            </div>

            <div class="question">
                <h3>8. 你在投資前會怎樣做準備？</h3>
                <div><input type="radio" name="preparation" value="1"> 非常謹慎，會花很多時間研究和比較</div>
                <div><input type="radio" name="preparation" value="2"> 會進行基本研究後做出決定</div>
                <div><input type="radio" name="preparation" value="3"> 相信自己的直覺，較快速做出決定</div>
                <div><input type="radio" name="preparation" value="4"> 大膽投資，幾乎不做太多研究</div>
            </div>

            <div class="question">
                <h3>9. 你的投資目標通常是什麼？</h3>
                <div><input type="radio" name="investmentGoal" value="1"> 保本，獲取穩定的回報</div>
                <div><input type="radio" name="investmentGoal" value="2"> 部分保本，追求適度增值</div>
                <div><input type="radio" name="investmentGoal" value="3"> 追求資本增值，承受一定風險</div>
                <div><input type="radio" name="investmentGoal" value="4"> 追求高額回報，願意承受高風險</div>
            </div>

            <button type="button" class="submit-button" onclick="calculateRiskTolerance()">提交</button>
        </form>

        <div id="result" class="result">
            <h3>你的自己的投資心理結果</h3>
			<p>您的總分：<span id="totalScore"></span>/48</p>
            <p id="investorType"></p>
            <p id="resultText"></p>
			<p id="investorStory"></p>
            <h3>以下為依照你的投資心理而提出的投資分佈參考:</h3>
			<h3>此結果沒有嚴謹科學查証，謹記切勿盲目跟從!</h3>
            <p id="mptAdvice"></p>
            <canvas id="mptChart"></canvas>
        </div>
    </div>

    <script>
        function calculateRiskTolerance() {
            const form = document.getElementById('riskAssessmentForm');
            const formData = new FormData(form);
            let score = 0;

            formData.forEach((value, key) => {
                if (key.match(/^(age|unexpectedWealth|businessOpportunity|friendsSuccess|stockRise|stockFall|stress|travel|preparation|investmentGoal)$/)) {
                    score += parseInt(value);
                }
            });

            const resultText = document.getElementById('resultText');
            const mptAdvice = document.getElementById('mptAdvice');
            const investorType = document.getElementById('investorType');
            const investorStory = document.getElementById('investorStory');
            const totalScore = document.getElementById('totalScore');
            let riskLevel;
            let allocation;
            let type;
            let story;

            if (score <= 16) {
                riskLevel = '低風險';
                allocation = {
                    labels: ['低風險產品（如：定期存款）', '中風險產品（如：債券）', '現金或等價物'],
                    data: [50, 30, 20]
                };
                mptAdvice.innerHTML = '50% 低風險產品（如：定期存款），30% 中低風險產品（如：債券），20% 現金或等價物。';
                type = '保守型投資者';
                story = '你是一位穩健的導航者，總是優先考慮資本的安全。每當市場波動，你都能保持冷靜，將大部分資金放在穩定的債券和現金中。你的目標是確保資產穩固，為未來的每一步做好準備。這種策略讓你在生活中擁有持續的安全感，使你能專注於享受家庭時光和計劃退休生活。';
            } else if (score <= 32) {
                riskLevel = '中等風險';
                allocation = {
                    labels: ['中低風險產品（如：債券）', '中風險產品（如：派息基金）', '高風險產品（如：股票）'],
                    data: [40, 40, 20]
                };
                mptAdvice.innerHTML = '40% 中低風險產品（如：債券），40% 中風險產品（如：派息基金），20% 高風險產品（如：股票）。';
                type = '平衡型投資者';
                story = '你是一位善於平衡的藝術家，追求風險與回報的和諧。你的資產分配得當，既不過於保守也不冒險。股票和債券並存，現金也佔有一席之地。你的理財目標是實現穩定增長，為自己和家人創造美好的未來。這種平衡使你能夠在職業與生活中找到一個健康的節奏，讓人生更加豐富多彩。';
            } else {
                riskLevel = '高風險';
                allocation = {
                    labels: ['低風險產品（如：債券）', '中風險產品（如：派息基金）', '高風險產品（如：股票）'],
                    data: [20, 30, 50]
                };
                mptAdvice.innerHTML = '20% 低風險產品（如：債券），30% 中風險產品（如：派息基金），50% 高風險產品（如：股票）。';
                type = '積極型投資者';
                story = '你是一位勇敢的冒險家，對未知世界充滿好奇和熱情。你的投資路徑充滿了股票和高風險的選擇，因為你相信高回報來自於大膽行動。你的目標是快速增長資產，支持你開創更多的事業和夢想。這種積極進取的策略讓你的人生充滿挑戰與成就感，不斷激勵你向前邁進。';
            }

            investorType.innerHTML = `投資者類型：${type}`;
            investorStory.innerHTML = `${story}`;
            totalScore.innerHTML = score;

            document.getElementById('result').style.display = 'block';
            displayChart(allocation);
        }

        function displayChart(allocation) {
            const ctx = document.getElementById('mptChart').getContext('2d');
            const data = {
                labels: allocation.labels,
                datasets: [{
                    label: '投資分佈',
                    data: allocation.data,
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(201, 203, 207, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(153, 102, 255, 0.2)'
                    ],
                    borderColor: [
                        'rgba(75, 192, 192, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(201, 203, 207, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(153, 102, 255, 1)'
                    ],
                    borderWidth: 1
                }]
            };

            const config = {
                type: 'pie',
                data: data,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ' ' + context.raw + '%';
                                }
                            }
                        }
                    }
                }
            };

            new Chart(ctx, config);
        }
    </script>
</body>
</html>
